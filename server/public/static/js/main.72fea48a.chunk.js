(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{202:function(e,t,a){},212:function(e,t,a){e.exports=a(453)},452:function(e,t,a){},453:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(27),c=a.n(r),o=a(6),s=a(8),i=a(11),u=a(9),m=a(10),h=a(47),d=a(44),p=a.n(d),g=function e(){var t=this;Object(o.a)(this,e),this.signup=function(e,a,n,l,r,c){return t._service.post("/signup",{username:e,password:a,birthDate:n,email:l,imageUrl:r,role:c})},this.login=function(e,a){return t._service.post("/login",{username:e,password:a})},this.logout=function(){return t._service.post("/logout")},this.loggedin=function(){return t._service.get("/loggedin")},this._service=p.a.create({baseURL:"".concat("\u200bhttps://footballmatch-finder-app.herokuapp.com/api","/auth"),withCredentials:!0})},E=a(463),b=a(462),f=a(7),v=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).logoutUser=function(){a._service.logout().then((function(e){return a.props.setUser(!1)})).catch((function(e){return console.log(e)}))},a._service=new g,a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.loggedInUser?this.props.loggedInUser.username:"invitado";return this.props.loggedInUser?l.a.createElement(E.a,{bg:"",variant:"dark",expand:"md",className:"limegreen"},l.a.createElement(E.a.Brand,{href:"/"},l.a.createElement("img",{src:"https://res.cloudinary.com/deht3vcvn/image/upload/v1576784414/appfinaltest/futsallogo2_mp54e3.png",className:"d-inline-block align-top",alt:"React Bootstrap logo"})),l.a.createElement(E.a.Toggle,{"aria-controls":"basic-navbar-nav"}),l.a.createElement(E.a.Collapse,null,l.a.createElement(b.a,{className:"mr-auto"},l.a.createElement(b.a.Link,{as:"li"},l.a.createElement(f.b,{to:"/",className:"anchorNav"},"Inicio")),l.a.createElement(b.a.Link,{as:"li"},l.a.createElement(f.b,{to:"/profile",className:"anchorNav"},"Mi perfil")),l.a.createElement(b.a.Link,{as:"li"},l.a.createElement(f.b,{to:"/explore",className:"anchorNav"},"Explore")),l.a.createElement(b.a.Link,{as:"li",onClick:this.logoutUser},"Logout")),l.a.createElement(b.a,{className:"ml-auto"},l.a.createElement(E.a.Text,null,"Bienvenid@ ",e)))):l.a.createElement(E.a,{bg:"",variant:"dark",expand:"md",className:"limegreen"},l.a.createElement(E.a.Brand,null,l.a.createElement("img",{src:"https://res.cloudinary.com/deht3vcvn/image/upload/v1576784414/appfinaltest/futsallogo2_mp54e3.png",className:"d-inline-block align-top",alt:"React Bootstrap logo"})),l.a.createElement(E.a.Toggle,{"aria-controls":"basic-navbar-nav"}),l.a.createElement(E.a.Collapse,null,l.a.createElement(b.a,{className:"mr-auto"},l.a.createElement(b.a.Link,{as:"li"},l.a.createElement(f.b,{to:"/",className:"anchorNav"},"Inicio")),l.a.createElement(b.a.Link,{as:"li"},l.a.createElement(f.b,{to:"/signup",className:"anchorNav"},"Registro")),l.a.createElement(b.a.Link,{as:"li"},l.a.createElement(f.b,{to:"/login",className:"anchorNav"},"Login"))),l.a.createElement(b.a,{className:"ml-auto"},l.a.createElement(E.a.Text,null,"Bienvenid@ ",e))))}}]),t}(n.Component),C=a(33),O=a(456),j=a(460),y=a(457),I=a(461),w=function e(){var t=this;Object(o.a)(this,e),this.handleUpload=function(e){return t._service.post("/upload",e)},this._service=p.a.create({baseURL:"".concat("\u200bhttps://footballmatch-finder-app.herokuapp.com/api","/files"),withCredentials:!0})},U=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(C.a)({},n,l))},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,l=t.password,r=t.birthDate,c=t.email,o=t.imageUrl,s=t.role,i=t.location;a._service.signup(n,l,r,c,o,s,i).then((function(e){console.log(e.data),a.props.setUser(e.data),a.setState({username:"",password:""}),a.props.history.push("/")})).catch((function(e){console.log(e),a.handleToastOpen(e.response.data.message)}))},a.handleFileUpload=function(e){a.setState({disabledButton:!0,buttonText:"Subiendo imagen..."});var t=new FormData;t.append("imageUrl",e.target.files[0]),a._filesService.handleUpload(t).then((function(e){console.log("Subida de archivo finalizada! La URL de Cloudinray es: ",e.data.secure_url),a.setState({disabledButton:!1,buttonText:"Crear perfil",imageUrl:e.data.secure_url}),console.log(a.state.imageUrl)})).catch((function(e){return console.log(e)}))},a.handleToastClose=function(){return a.setState({showToast:!1,toastText:""})},a.handleToastOpen=function(e){return a.setState({showToast:!0,toastText:e})},a._service=new g,a._filesService=new w,a.state={username:"",password:"",imageUrl:"",email:"",birthDate:0,role:[],location:{type:{type:String},coordinates:[Number]},buttonText:"Crear monta\xf1a rusa",disabledButton:!1,showToast:!1,toastText:""},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(O.a,null,l.a.createElement("div",{className:"signup-shadow"},l.a.createElement("article",{className:"form"},l.a.createElement("h1",null,"Sign Up"),l.a.createElement(j.a,{onSubmit:this.handleSubmit},l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Usuario"),l.a.createElement(j.a.Control,{type:"text",name:"username",onChange:this.handleInputChange,value:this.state.username})),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Contrase\xf1a"),l.a.createElement(j.a.Control,{type:"text",name:"password",onChange:this.handleInputChange,value:this.state.password})),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"email"),l.a.createElement(j.a.Control,{type:"text",name:"email",onChange:this.handleInputChange,value:this.state.email})),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Fecha nacimiento"),l.a.createElement(j.a.Control,{type:"date",name:"birthDate",onChange:this.handleInputChange,value:this.state.birthDate})),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Imagen URL (archivo)"),l.a.createElement(j.a.Control,{name:"imageUrl",type:"file",onChange:this.handleFileUpload})),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Select our Role"),l.a.createElement("select",{name:"role",selected:this.state.role,onChange:this.handleInputChange},l.a.createElement("option",{value:"GK"},"Select a role"),l.a.createElement("option",{value:"GK"}," GK"),l.a.createElement("option",{value:"DEF"},"DD"),l.a.createElement("option",{value:"CC"},"CC"),l.a.createElement("option",{value:"ATT"},"ATT"))),l.a.createElement(y.a,{variant:"dark",type:"submit"},"Registrarme")),l.a.createElement(I.a,{onClose:this.handleToastClose,show:this.state.showToast,delay:3e3,autohide:!0,style:{position:"fixed",right:"10px",bottom:"10px",minWidth:"250px"}},l.a.createElement(I.a.Header,null,l.a.createElement("strong",{className:"mr-auto"},"Error"),l.a.createElement("small",null,"Session manager")),l.a.createElement(I.a.Body,null,this.state.toastText)))))}}]),t}(n.Component),_=a(58),S=a(458),M=a(67),N=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState({user:Object(_.a)({},a.state.user,Object(C.a)({},n,l))})},a.handleSubmit=function(e){e.preventDefault();var t=a.state.user,n=t.username,l=t.password;a._service.login(n,l).then((function(e){a.props.setUser(e.data),a.setState({username:"",password:""}),a.props.history.push("/")})).catch((function(e){a.handleToastOpen(e.response.data.message)}))},a.handleToastClose=function(){return a.setState({showToast:!1,toastText:""})},a.handleToastOpen=function(e){return a.setState({showToast:!0,toastText:e})},a._service=new g,a.state={showToast:!1,toastText:"",user:{username:"",password:""}},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(O.a,null,l.a.createElement("article",{className:"form"},l.a.createElement(S.a,null,l.a.createElement(M.a,null),l.a.createElement(M.a,{md:12},l.a.createElement("h1",null,"Iniciar sesi\xf3n"),l.a.createElement(j.a,{onSubmit:this.handleSubmit},l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Usuario"),l.a.createElement(j.a.Control,{type:"text",name:"username",onChange:this.handleInputChange,value:this.state.user.username})),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Contrase\xf1a"),l.a.createElement(j.a.Control,{type:"text",name:"password",onChange:this.handleInputChange,value:this.state.user.password})),l.a.createElement(y.a,{variant:"dark",type:"submit"},"Iniciar sesi\xf3n")),l.a.createElement("div",{className:"center-image"},l.a.createElement("img",{src:"https://res.cloudinary.com/deht3vcvn/image/upload/v1576833839/appfinaltest/loginimage_xymwte.png",className:"loginimage"})),l.a.createElement(I.a,{onClose:this.handleToastClose,show:this.state.showToast,delay:3e3,autohide:!0,style:{position:"fixed",right:"10px",bottom:"10px",minWidth:"250px"}},l.a.createElement(I.a.Header,null,l.a.createElement("strong",{className:"mr-auto"},"Error"),l.a.createElement("small",null,"Session manager")),l.a.createElement(I.a.Body,null,this.state.toastText))),l.a.createElement(M.a,null)))))}}]),t}(n.Component),x=a(459),T=function e(){var t=this;Object(o.a)(this,e),this.getAllCreatedMatch=function(){return t._service.get("/allCreatedMatch")},this.getOneMatch=function(e){return t._service.get("/".concat(e))},this.postOrganizeMatch=function(e){return t._service.post("/new",e)},this.deleteMatch=function(e){return t._service.get("delete/".concat(e))},this.postEditMatch=function(e,a){return t._service.post("edit/".concat(e),a)},this.joinMatch=function(e,a){return t._service.post("join/".concat(e),{id:e,match:a})},this.resignFromMatch=function(e,a){return t._service.post("/resignmatch",{logId:e,matchId:a})},this.getJoinedMatch=function(e){return t._service.post("/joinedmatch",{id:e})},this._service=p.a.create({baseURL:"".concat("\u200bhttps://footballmatch-finder-app.herokuapp.com/api","/organizematch"),withCredentials:!0})},k=function e(){var t=this;Object(o.a)(this,e),this.getAllClub=function(){return t._service.get("/getAllClub")},this.getOneClub=function(e){return t._service.get("/".concat(e))},this._service=p.a.create({baseURL:"".concat("\u200bhttps://footballmatch-finder-app.herokuapp.com/api","/club"),withCredentials:!0})},L=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){return a.importClubList()},a.importClubList=function(){a._clubList.getAllClub().then((function(e){console.log(e.data),a.setState({clubList:e.data}),console.log(a.state.clubList)})).catch((function(e){return console.log("Error",e)}))},a.handleInputChange=function(e){var t,n=e.target,l=n.name,r=n.value;a.setState({match:Object(_.a)({},a.state.match,(t={},Object(C.a)(t,l,r),Object(C.a)(t,"owner",a.props.loggedInUser._id),t))})},a.handleSubmit=function(e){e.preventDefault(),a._organizeMatchsService.postOrganizeMatch(a.state.match).then((function(e){console.log("creato",a.state.match),a.props.closeModalWindow(),a.props.updatematch(),console.log("user id")})).catch((function(e){return console.log(e)}))},a._organizeMatchsService=new T,a._clubList=new k,a.state={disabledButton:!1,buttonText:"Organize a new event",clubList:[],match:{name:"",description:"",date:"",starthour:"",endhour:"",participant:[],owner:"",price:0,club:""}},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(j.a,{onSubmit:this.handleSubmit},l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Nombre"),l.a.createElement(j.a.Control,{type:"text",name:"name",onChange:this.handleInputChange,value:this.state.match.name})),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Descripci\xf3n"),l.a.createElement("textarea",{className:"form-control",id:"exampleFormControlTextarea1",rows:"5",name:"description",onChange:this.handleInputChange,value:this.state.match.description})),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Date"),l.a.createElement(j.a.Control,{type:"date",name:"date",onChange:this.handleInputChange,value:this.state.match.date})),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Start Hour"),l.a.createElement(j.a.Control,{type:"time",name:"starthour",onChange:this.handleInputChange,value:this.state.match.starthour})),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"End Hour"),l.a.createElement(j.a.Control,{type:"time",name:"endhour",onChange:this.handleInputChange,value:this.state.match.endhour})),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Price"),l.a.createElement(j.a.Control,{type:"number",name:"price",onChange:this.handleInputChange,value:this.state.match.price})),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Select a Club"),l.a.createElement("select",{name:"club",value:this.state.match.club,onChange:this.handleInputChange},l.a.createElement("option",{disabled:!0,value:!0},"Select an option"),this.state.clubList.map((function(e,t){return l.a.createElement("option",{key:t,value:e._id},e.name)})))),l.a.createElement(y.a,{variant:"dark",size:"sm",type:"submit",disabled:this.state.disabledButton},this.state.buttonText))}}]),t}(n.Component),D=a(454),z=a(30),G=Object(z.withScriptjs)(Object(z.withGoogleMap)((function(e){var t=e.coordinates.lat&&e.coordinates.lat,a=e.coordinates.long&&e.coordinates.long;e.clubid;return console.log(typeof t),console.log(a),l.a.createElement(l.a.Fragment,null,l.a.createElement(z.GoogleMap,{defaultZoom:10,center:{lat:t,lng:a}},l.a.createElement(z.Marker,{position:{lat:t,lng:a},className:"pin"})))}))),A=function(e){function t(e){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).call(this,e))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=(e._id,e.username),a=e.imageUrl,n=e.role;e.description;return l.a.createElement(D.a,{style:{width:"10rem"}},l.a.createElement(D.a.Img,{style:{width:"10rem"},variant:"top",src:a}),l.a.createElement(D.a.Body,null,l.a.createElement(D.a.Title,null,t),l.a.createElement(D.a.Text,null,"Preferred Role ",n)))}}]),t}(n.Component),B=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){var e=a.props.match.params.id;a._service.getOneMatch(e).then((function(e){return a.setState({match:e.data})})).catch((function(e){return console.log(e)}))},a.state={match:{}},a._service=new T,a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){console.log("this.state general:",this.state.match);var e=this.state.match.date&&this.state.match.date.substr(0,10),t=this.state.match.participant&&this.state.match.participant.length,a=this.state.match.club&&this.state.match.club.location.coordinates[0];console.log(a);var n=this.state.match.club&&this.state.match.club.location.coordinates[1];console.log(n);var r=this.state.match.club&&this.state.match.club._id,c=this.state.match.club&&this.state.match.club.name;return l.a.createElement(O.a,{className:"match-details"},l.a.createElement("section",{className:"margin-top"},l.a.createElement(S.a,null,l.a.createElement(M.a,{md:6},l.a.createElement("h2",null,this.state.match.name),l.a.createElement("p",null,l.a.createElement("strong",null,"Descripci\xf3n:")," ",this.state.match.description),l.a.createElement("hr",null),l.a.createElement("p",null,l.a.createElement("strong",null,"Date:")," ",l.a.createElement("p",null,e),l.a.createElement("strong",null,"Star Hour:")," ",this.state.match.starthour," | ",l.a.createElement("strong",null,"End Hours:")," ",this.state.match.endhour),l.a.createElement("strong",null,"Club:")," ",c,l.a.createElement("hr",null),l.a.createElement("strong",null,"Price: \u20ac")," ",this.state.match.price,l.a.createElement("hr",null),l.a.createElement("strong",null,"Partecipants number:")," ",t,l.a.createElement("hr",null),l.a.createElement("br",null),l.a.createElement(f.b,{to:"/profile",className:"btn btn-info"},"Volver")),l.a.createElement(M.a,{md:{span:6,offset:0}},l.a.createElement(G,{googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=".concat("AIzaSyDG88rK2sVwRDbZIJautuIZpNt32kAQpSU"),loadingElement:l.a.createElement("div",{style:{height:"45vh"}}),containerElement:l.a.createElement("div",{style:{height:"45vh"}}),mapElement:l.a.createElement("div",{style:{height:"45vh"}}),clubid:r,coordinates:{lat:a,long:n}}))),l.a.createElement(S.a,null,this.state.match.participant&&this.state.match.participant.map((function(e){return l.a.createElement(A,Object.assign({key:e._id},e))})))))}}]),t}(n.Component),R=function(e){function t(e){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).call(this,e))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e._id,a=e.name,n=(e.owner,e.date,e.description),r=(e.loggedInUser,this.props.date&&this.props.date.substr(0,10));return l.a.createElement(O.a,null,l.a.createElement(D.a,{className:"box",style:{width:"30rem"}},l.a.createElement(D.a.Img,{variant:"top",src:""}),l.a.createElement(D.a.Body,null,l.a.createElement(D.a.Title,null,a),l.a.createElement(D.a.Text,null,n),l.a.createElement(D.a.Text,null,r),l.a.createElement(f.b,{className:"btn  btn-info",loggedInUser:this.props.loggedInUser,to:"/match/".concat(t)},"Ver detalles"),l.a.createElement(f.b,{className:"btn  btn-dark",to:"/edit/".concat(t),id:this._id},"Edit Match"),l.a.createElement(y.a,{variant:"outline-warning",onClick:this.props.deleteMatch.bind(this,t)},"Delete Match"))))}}]),t}(n.Component),F=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){return a.importClubList()},a.importClubList=function(){a._clubservice.getAllClub().then((function(e){console.log("Data from Club llega bien",e.data),console.log("Aqui intendo di hacer llegar los datos dell _id de fuera",a.props.match.params.id),a.setState({clubList:e.data}),a.updateState()})).catch((function(e){return console.log("Error",e)}))},a.updateState=function(){console.log("ciao");var e=a.props.match.params.id;a._service.getOneMatch(e).then((function(e){return a.setState({match:e.data})})).catch((function(e){return console.log(e)}))},a.handleInputChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState({match:Object(_.a)({},a.state.match,Object(C.a)({},n,l))})},a.handleSubmit=function(e){var t=a.props.match.params.id,n=a.state.match;e.preventDefault(),a._organizeMatchsService.postEditMatch(t,n).then((function(e){console.log("editato",a.props.match.params.id),a.updateState(a.state)})).catch((function(e){return console.log(e)}))},a._organizeMatchsService=new T,a._clubservice=new k,a._service=new T,a.state={disabledButton:!1,buttonText:"Edit the match details",clubList:[],match:{name:"",description:"",date:"",starthour:"",endhour:"",participant:[],owner:"",price:0,club:""}},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(O.a,{className:"margin-top"},l.a.createElement("h1",null,"Edit the Match Details"),l.a.createElement(j.a,{onSubmit:this.handleSubmit},l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Nombre"),l.a.createElement(j.a.Control,{placeholder:this.state.match.name,type:"text",name:"name",onChange:this.handleInputChange,value:this.state.match.name})),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Descripci\xf3n"),l.a.createElement("textarea",{placeholder:this.state.match.description,className:"form-control",id:"exampleFormControlTextarea1",rows:"5",name:"description",onChange:this.handleInputChange,value:this.state.match.description})),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Date"),l.a.createElement(j.a.Control,{placeholder:this.state.match.date,type:"date",name:"date",onChange:this.handleInputChange,value:this.state.match.date})),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Start Hour"),l.a.createElement(j.a.Control,{placeholder:this.state.match.starthour,type:"time",name:"starthour",onChange:this.handleInputChange,value:this.state.match.starthour})),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"End Hour"),l.a.createElement(j.a.Control,{placeholder:this.state.match.endhour,type:"time",name:"endhour",onChange:this.handleInputChange,value:this.state.match.endhour})),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Price"),l.a.createElement(j.a.Control,{placeholder:this.state.match.price,type:"number",name:"price",onChange:this.handleInputChange,value:this.state.match.price})),l.a.createElement(j.a.Group,null,l.a.createElement(j.a.Label,null,"Select a Number"),l.a.createElement("select",{name:"club",value:this.state.match.club,onChange:this.handleInputChange},l.a.createElement("option",{disabled:!0,value:!0},"Select an option"),this.state.clubList.map((function(e,t){return l.a.createElement("option",{key:t,value:e._id},e.name)})))),l.a.createElement(y.a,{variant:"dark",size:"sm",type:"submit",disabled:this.state.disabledButton},this.state.buttonText),l.a.createElement(f.b,{to:"/profile",className:"btn btn-sm btn-primary"},"Back")))}}]),t}(n.Component),H=function(e){function t(e){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).call(this,e))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e._id,a=e.name,n=(e.owner,e.date),r=e.description,c=(e.loggedInUser,n.substr(0,10));return l.a.createElement(D.a,{className:"box",style:{width:"30rem"}},l.a.createElement(D.a.Img,{variant:"top",src:""}),l.a.createElement(D.a.Body,null,l.a.createElement(D.a.Title,null,a),l.a.createElement(D.a.Text,null,r),l.a.createElement(D.a.Text,null,c),l.a.createElement(f.b,{className:"btn btn-info",loggedInUser:this.props.loggedInUser,to:"/match/".concat(t)},"Ver detalles")))}}]),t}(n.Component),P=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){return a.updateOrganizedMatchList()},a.updateOrganizedMatchList=function(){console.log("ID USUARIO LOGGEADO:",a.state.logUser),a._service.getAllCreatedMatch().then((function(e){console.log("Todos lo partidos:",e.data);var t=e.data.filter((function(e){return e.owner==a.props.loggedInUser._id}));a.setState({organizedmatch:t}),console.log("STATE ORGANIZED Match",a.state.organizedmatch)})).catch((function(e){return console.log("Error",e)}));var e=a.props.loggedInUser&&a.props.loggedInUser._id;a._service.getJoinedMatch(e).then((function(e){console.log("Solo Joined Match:",e.data),a.setState({joinedmatch:e.data}),console.log("STATE DI JOINED MATCH:",a.state.joinedmatch)})).catch((function(e){return console.log("Error",e)}))},a.handleShow=function(){return a.setState({showModalWindow1:!0})},a.handleClose=function(){return a.setState({showModalWindow1:!1})},a._service=new T,a.state={showModalWindow1:!1,organizedmatch:[],joinedmatch:[],logUser:e.loggedInUser._id},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"deleteTheMatch",value:function(e){var t=this;this._service.deleteMatch(e).then((function(e){console.log("se ha borrado y debe actualizar"),t.updateOrganizedMatchList()})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.props.loggedInUser.birthDate.substr(0,10);return l.a.createElement(O.a,{className:"margin-top"},l.a.createElement("h2",null,"Bienvenid@ ",this.props.loggedInUser.username),l.a.createElement(S.a,{className:"align"},l.a.createElement(M.a,{className:"profile-card",md:8},l.a.createElement("div",{className:"profile-card"},l.a.createElement("strong",null," Email: ")," ",l.a.createElement("p",{className:"informacion"},this.props.loggedInUser.email),l.a.createElement("strong",null," Birthday: ")," ",t,l.a.createElement("br",null),l.a.createElement("strong",null,"Preferred role: ")," ",this.props.loggedInUser.role,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement(y.a,{variant:"success",onClick:this.handleShow},"Organize a match")),l.a.createElement("br",null))),l.a.createElement(M.a,{className:"profile-card",md:4},l.a.createElement("div",{className:"profile-card"},l.a.createElement("img",{src:this.props.loggedInUser.imageUrl,alt:this.props.loggedInUser.imageUrl})))),l.a.createElement(S.a,null,l.a.createElement(M.a,{md:6},l.a.createElement("h4",null,"Organized Match"),l.a.createElement(S.a,null,this.state.organizedmatch.map((function(t){return l.a.createElement(R,Object.assign({key:t._id},t,{deleteMatch:e.deleteTheMatch.bind(e),updatematch:e.updateOrganizedMatchList,loggedInUser:e.props.loggedInUser}))})))),l.a.createElement(M.a,{md:6},l.a.createElement("h4",null,"Joined Match"),l.a.createElement(S.a,null,this.state.joinedmatch.map((function(t){return l.a.createElement(H,Object.assign({key:t._id},t,{loggedInUser:e.props.loggedInUser,matchdetail:e.state.organizedmatch}))}))))),l.a.createElement(x.a,{show:this.state.showModalWindow1,onHide:this.handleClose},l.a.createElement(x.a.Header,{closeButton:!0},l.a.createElement(x.a.Title,null,"Organize a match")),l.a.createElement(x.a.Body,null,l.a.createElement(L,{loggedInUser:this.props.loggedInUser,closeModalWindow:this.handleClose,updatematch:this.updateOrganizedMatchList}))))}}]),t}(n.Component),W=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleShow=function(){return a.setState({showModalWindow:!0})},a.handleClose=function(){return a.setState({showModalWindow:!1})},a.state={showModalWindow:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){console.log("ddd",this.props.loggedInUser);var e,t=this.props.loggedInUser;return 0==t?e=l.a.createElement(l.a.Fragment,null,l.a.createElement(f.b,{className:"btn btn-success",to:"/login"},"LOGIN"," "),l.a.createElement(f.b,{className:"btn btn-primary",to:"/signup"},"SIGN UP"," ")):1==t&&(e=l.a.createElement("p",null)),l.a.createElement(O.a,{className:"margin-top"},l.a.createElement("section",null,l.a.createElement("div",{className:""},l.a.createElement("div",{className:"container text-center"},l.a.createElement("h1",null,"Having a hard time organizing soccer matches with your friends?"),l.a.createElement("h2",{className:"lead"},"Makes it easy to manage Futsal match, invite players and keep track of your match. Participate in events and tournaments. Create your profile. If you play Futsal, this is your app!"),l.a.createElement("img",{src:"https://res.cloudinary.com/deht3vcvn/image/upload/v1576830402/appfinaltest/imagehome_rzuunm.png",className:"homeimage",alt:"",fluid:!0})))),l.a.createElement("section",{className:"margin-bottom container text-center"},e))}}]),t}(l.a.Component),J=function(e){function t(e){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).call(this,e))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){this.props.loggedIn;var e=this.props,t=(e._id,e.username),a=e.imageUrl,n=e.role;e.description;return console.log(),l.a.createElement(l.a.Fragment,null,l.a.createElement(D.a,{style:{width:"10rem"}},l.a.createElement(D.a.Img,{style:{width:"10rem"},variant:"top",src:a}),l.a.createElement(D.a.Body,null,l.a.createElement(D.a.Title,null,t),l.a.createElement(D.a.Text,null,"Preferred Role ",n))))}}]),t}(n.Component),Z=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){return a.setState({initialized:!0})},a._service=new T,a.state={showjoin:"true",initialized:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t._id,n=t.name,r=(t.owner,t.date,t.club),c=t.description,o=t.participant,s=(t.imageUrl,this.props.date.substr(0,10));o&&o.map((function(e){return e._id}));return l.a.createElement(l.a.Fragment,null,l.a.createElement(O.a,{className:"explore-card text-center "},l.a.createElement(D.a,{className:"box",style:{width:"45rem"}},l.a.createElement(D.a.Img,{variant:"top",src:r.imageUrl,alt:n,fluid:!0}),l.a.createElement(D.a.Body,null,l.a.createElement(D.a.Title,null,l.a.createElement("h2",null,n)),l.a.createElement(D.a.Text,null,c),l.a.createElement(D.a.Title,null,"Date del partido"),l.a.createElement(D.a.Text,null,s),l.a.createElement(D.a.Title,null,"Club del partido"),l.a.createElement(D.a.Text,null,r.name),l.a.createElement(D.a.Title,null,"Partecipants ")," ",l.a.createElement("span",null,"Number of partecipants ",o.length," "),l.a.createElement("br",null),l.a.createElement(S.a,null,o&&o.map((function(t){return l.a.createElement(J,Object.assign({loggedIn:e.props.id,key:t._id},t))}))),l.a.createElement(f.b,{className:"btn btn-info",to:"/explorematch/".concat(a)},"Ver detalles")))))}}]),t}(n.Component),V=(a(123),a(202),a(211)),K=Object(z.withScriptjs)(Object(z.withGoogleMap)((function(e){var t=e.clublist;console.log("------\x3e list club del componente Simplemap",t);t.map((function(e){return console.log("ELM LOCATION",e.club.location.coordinates[0])}));var a=Object(n.useState)(null),r=Object(V.a)(a,2),c=r[0],o=r[1];return Object(n.useEffect)((function(){var e=function(e){27===e.keyCode&&o(null)};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[]),l.a.createElement(z.GoogleMap,{defaultZoom:8,defaultCenter:{lat:40.388746,lng:-3.693698}},t.map((function(e){return l.a.createElement(z.Marker,{key:e._id,position:{lat:e.club.location.coordinates[0],lng:e.club.location.coordinates[1]},onClick:function(){o(e)},label:{text:"".concat(e.club.name),color:"black",fontSize:"10px"},labelStyle:{backgroundColor:"yellow",fontSize:"32px",padding:"16px"},icon:{labelOrigin:12},className:"pin"})})),c&&l.a.createElement(z.InfoWindow,{onCloseClick:function(){o(null)},position:{lat:c.club.location.coordinates[0],lng:c.club.location.coordinates[1]}},l.a.createElement("div",null,l.a.createElement("h5",null,c.club.name),l.a.createElement("p",null," ",c.club.description),l.a.createElement("p",null," ",c.club.date),l.a.createElement(f.b,{to:"/explorematch/".concat(c._id)},"More detail"))))}))),Q=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){return a.updateOrganizedMatchList()},a.updateOrganizedMatchList=function(){var e=a.props.loggedInUser._id;console.log("Id logged User",e),a._service.getAllCreatedMatch().then((function(e){a.setState({organizedmatch:e.data})})).catch((function(e){return console.log("Error",e)})),a.positionUser()},a.positionUser=function(){var e=[];"geolocation"in navigator?navigator.geolocation.getCurrentPosition((function(t){var n=t.coords.latitude,l=t.coords.longitude;e.push(n,l),a.setState({coord:[n,l]})})):alert("Geolocation is not supported by your browser.")},a._service=new T,a.state={organizedmatch:[],lat:[],lng:[],coord:[]},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=(this.state.organizedmatch.club&&this.state.organizedmatch.club.name,this.state.coord[0]),a=this.state.coord[1];return console.log(typeof t,typeof a),console.log("el matchhhhh",this.state.organizedmatch),l.a.createElement(l.a.Fragment,null,l.a.createElement(O.a,{className:"margin-top"},l.a.createElement(S.a,null,l.a.createElement(M.a,null),l.a.createElement(M.a,null,l.a.createElement("h1",null,"Find Football match around you"),l.a.createElement("div",{style:{height:"45vh",width:"800px"}},l.a.createElement(K,{googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=".concat("AIzaSyDG88rK2sVwRDbZIJautuIZpNt32kAQpSU"),loadingElement:l.a.createElement("div",{style:{height:"45vh"}}),containerElement:l.a.createElement("div",{style:{height:"45vh"}}),mapElement:l.a.createElement("div",{style:{height:"45vh"}}),clublist:this.state.organizedmatch,coordinates:{lat:t,long:a}}))),l.a.createElement(M.a,null)),l.a.createElement("br",null),l.a.createElement(S.a,null,l.a.createElement(M.a,null),l.a.createElement(M.a,{className:"text-center"},l.a.createElement("h2",null,"Join the match"),this.state.organizedmatch&&this.state.organizedmatch.map((function(t){return l.a.createElement(Z,Object.assign({key:t._id},t,{id:e.props.loggedInUser._id,updatelist:e.updateOrganizedMatchList}))}))),l.a.createElement(M.a,null))))}}]),t}(n.Component),q=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){return a.updateMatch()},a.updateMatch=function(){var e=a.props.match.params.id;a._service.getOneMatch(e).then((function(e){return a.setState({match:e.data})})).catch((function(e){return console.log(e)}))},a.joinMatch=function(){var e=a.props.loggedInUser&&a.props.loggedInUser._id,t=a.state.match._id;console.log("id person",e),console.log("id Match",t),a._service.joinMatch(e,t).then((function(e){return a.updateMatch()})).catch((function(e){return console.log(e)}))},a.resign=function(){var e=a.props.loggedInUser&&a.props.loggedInUser._id,t=a.state.match._id;console.log(e,t),console.log("ok"),a._service.resignFromMatch(e,t).then((function(e){a.updateMatch()})).catch((function(e){return console.log(e)}))},a.state={match:{participant:[]}},a._service=new T,a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.loggedInUser&&this.props.loggedInUser._id;this.state.match._id;console.log("ID LOG USER",t),console.log("MATCH DATA",this.state.match._id);var a=this.state.match.participant;console.log("LIST PARTECIPANT ARRAY",a);var n=a.map((function(e){return e._id})).some((function(e){return e==t})),r=this.state.match.date&&this.state.match.date.substr(0,10),c=this.state.match.participant&&this.state.match.participant.length,o=this.state.match.club&&this.state.match.club.name,s=this.state.match&&this.state.match.club,i=this.state.match.club&&this.state.match.club.location.coordinates[0];console.log("Club coordinates",i);var u,m=this.state.match.club&&this.state.match.club.location.coordinates[1];return console.log("Club coordinates",m),u=0==n?l.a.createElement(f.b,{to:this.props._id,className:"btn btn-success",onClick:function(){return e.joinMatch()}},"Join the match"):1==n?l.a.createElement(l.a.Fragment,null,l.a.createElement(f.b,{className:"btn btn-warning"},"Alredy joined "),l.a.createElement(y.a,{className:"btn  btn-danger",onClick:this.resign},"Resing form match Match")):c<5?l.a.createElement(l.a.Fragment,null,l.a.createElement(f.b,{to:this.props._id,className:"btn btn-succes",onClick:function(){return e.joinMatch()}},"Join the match"),l.a.createElement(y.a,{className:"btn  btn-danger",onClick:this.resign},"Resing form match Match")):l.a.createElement(f.b,{className:"btn btn-danger"},"Match Full"),l.a.createElement(O.a,{className:"match-details"},l.a.createElement("section",{className:"margin-top"},l.a.createElement(S.a,null,l.a.createElement(M.a,{md:6},l.a.createElement("h2",null,this.state.match.name),l.a.createElement("p",null,l.a.createElement("strong",null,"Descripci\xf3n:")," ",this.state.match.description),l.a.createElement("hr",null),l.a.createElement("p",null,l.a.createElement("strong",null,"Date:")," ",l.a.createElement("p",null,r),l.a.createElement("small",null,"Star Hour:")," ",this.state.match.starthour," | End Hours: ",this.state.match.endhour),l.a.createElement("strong",null,"Club:")," ",o,l.a.createElement("hr",null),l.a.createElement("strong",null,"Price:")," \u20ac",this.state.match.price,l.a.createElement("hr",null),l.a.createElement("strong",null,"Partecipants number:")," ",c,l.a.createElement("hr",null),l.a.createElement("br",null),u,l.a.createElement(f.b,{to:"/explore",className:"btn btn-info"},"Volver")),l.a.createElement(M.a,{md:{span:6,offset:0}},l.a.createElement(G,{googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=".concat("AIzaSyDG88rK2sVwRDbZIJautuIZpNt32kAQpSU"),loadingElement:l.a.createElement("div",{style:{height:"45vh"}}),containerElement:l.a.createElement("div",{style:{height:"45vh"}}),mapElement:l.a.createElement("div",{style:{height:"45vh"}}),clubid:s,coordinates:{lat:i,long:m}}))),l.a.createElement(S.a,null,this.state.match.participant&&this.state.match.participant.map((function(e){return l.a.createElement(A,Object.assign({key:e._id},e))})))))}}]),t}(n.Component),Y=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).setTheUser=function(t){e.setState({loggedInUser:t}),console.log("El m\xe9todo 'setTheUser' de App.js se ha invocado, pasando al estado 'loggedInUser:",e.state.loggedInUser)},e.fetchUser=function(){null===e.state.loggedInUser&&e._service.loggedin().then((function(t){return e.setState({loggedInUser:t.data})})).catch((function(t){e.setState({loggedInUser:!1}),console.log({err:t})}))},e.state={loggedInUser:null},e._service=new g,e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return this.fetchUser(),l.a.createElement(l.a.Fragment,null,l.a.createElement(v,{loggedInUser:this.state.loggedInUser,setUser:this.setTheUser}),l.a.createElement(h.d,null,l.a.createElement(h.b,{exact:!0,path:"/",render:function(){return l.a.createElement(W,{loggedInUser:e.state.loggedInUser})}}),l.a.createElement(h.b,{path:"/edit/:id",component:F}),l.a.createElement(h.b,{exact:!0,path:"/explore",render:function(){return e.state.loggedInUser?l.a.createElement(Q,{loggedInUser:e.state.loggedInUser}):l.a.createElement(h.a,{to:"/"})}}),l.a.createElement(h.b,{path:"/match/:id",component:B}),l.a.createElement(h.b,{exact:!0,path:"/explorematch/:id",render:function(t){return l.a.createElement(q,Object.assign({},t,{loggedInUser:e.state.loggedInUser}))}}),l.a.createElement(h.b,{path:"/signup",render:function(t){return l.a.createElement(U,Object.assign({setUser:e.setTheUser},t))}}),l.a.createElement(h.b,{path:"/login",render:function(t){return l.a.createElement(N,Object.assign({setUser:e.setTheUser},t))}}),l.a.createElement(h.b,{path:"/profile",render:function(){return e.state.loggedInUser?l.a.createElement(P,{loggedInUser:e.state.loggedInUser}):l.a.createElement(h.a,{to:"/"})}})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(451),a(452);c.a.render(l.a.createElement(f.a,null,l.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[212,1,2]]]);
//# sourceMappingURL=main.72fea48a.chunk.js.map